#!/bin/bash

# File Info Decorator v1.7.0 快速安装脚本

echo "🚀 开始安装 File Info Decorator v1.7.0..."
echo ""
echo "📝 v1.7.0 重大改进："
echo "  ✨ 三击文件复制绝对路径（超简单！）"
echo "  ✅ 修复所有右键菜单功能"
echo "  ✅ 修复所有键盘快捷键"
echo ""

# 检查是否存在vsix文件
if [ ! -f "file-info-decorator-1.7.0.vsix" ]; then
    echo "❌ 错误：找不到 file-info-decorator-1.7.0.vsix 文件"
    exit 1
fi

# 卸载旧版本
echo "🗑️  卸载旧版本..."
cursor --uninstall-extension xiaohong-xin-qinsheng-lin.file-info-decorator 2>/dev/null

echo ""
echo "📦 安装新版本..."
cursor --install-extension file-info-decorator-1.7.0.vsix

echo ""
echo "✨ 安装完成！"
echo ""
echo "📋 新功能：三击复制路径（推荐）✨"
echo ""
echo "  使用方法："
echo "    1. 在'文件信息浏览器'中快速点击文件3次"
echo "    2. 看到提示：✅ 已复制绝对路径"
echo "    3. 在Chat中按 Cmd+V 粘贴"
echo "    4. 完成！"
echo ""
echo "  超级简单："
echo "    点击 → 点击 → 点击 → 复制完成！"
echo ""
echo "📋 其他方式："
echo ""
echo "  方法2：右键菜单"
echo "    右键文件 → '复制路径到Chat' → Cmd+V"
echo ""
echo "  方法3：快捷键"
echo "    选中文件 → Command+Shift+C → Cmd+V"
echo ""
echo "🎯 重要提示："
echo "  安装后请重新加载窗口："
echo "  Command+Shift+P → 'Reload Window'"
echo ""
echo "🎉 现在试试三击功能吧！"
echo ""



